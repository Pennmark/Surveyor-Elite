$(document).ready(function() {
/*Open Source Dynamic OO Javascript - OO PHP - OO Jquery Quiz Application "SURVEYOR ELITE" by Mark Bazzone SurveyorElite.com 2013 copyright All rights reservered. This site has the right to use this application for personal or professional use, but does not have the right to charge for, or sell any rights or code within or coming from SurveyorElite.com or the Sureyor Elite Application. This site does possess the sole rights to any information collected by or submitted to this site through the Surveyor Elite App. For the protections or use of survey or test informations, see this site's policies regarding information collection.*/
/*-- begin application execution --*/
var launch = new _Launch(); 
var controller = new _controller(); 
tempLaunch1 = launch.setOBJS(); 
var activeAjaxConnections = 0; 
if(tempLaunch1===true){
	var loadPathAdjustment = new _initPath();
	tempLaunch2 = controller.launchSurvey( tempLaunch1 );};
if(tempLaunch1==true && tempLaunch2==true ){ 
	tempLaunch3 = controller.uncompress(); 
	if(tempLaunch1==true && tempLaunch2==true && tempLaunch3==true ){ 
		localConfig.setupComplete = false; 
		localConfig.loadupComplete = false; 
		controller.setUp(); 
		controller.loadUp(); 
		view = new viewer(); 
		render = new _render(); 
		handlers = new _handlers(); 
		view.surveyInfo();};};
/*-- end application execution --*/
/*-- begin classes --*/
function _initPath(){ 
	this._setPath = function(){ 
	return ("/*your path here*/"); }; };

function _controller(){ 
	this.launchSurvey = function( tempLaunch ){ 
	if(tempLaunch==true){ optionsConfig = new launch.surveyConfigDefault( ); localConfig = new launch.setDomain( loadPathAdjustment ); user = new launch.surveyConfigUser( ); timers = new _timers( ); currentTest = new launch.surveyConfigTests( ); system_opts = new launch.surveyConfigLocal( ); if(localConfig.domain1){ setupBox = new setupTools( ); toolBox = new surveyTools( ); htmlBox = new buildHtml( ) ; fixerBox = new fixers( ) ; connect = new ajaxConnections( ) ; var i1=0; setupBox.setUser(); var readURL = setupBox.readURL(); var loader = new _Loader(); loader.surveyPageGet(); loader.surveyPageCheck(readURL); var stopInterval = setInterval(function() { if(!localConfig.compressed){ $('#survey-setup').trigger('click'); i1++; if( i1 >= 10000){ $("#survey-setup").remove() ; clearInterval(stopInterval); }; } else{ if(localConfig.compressed.length >0 ){ $("#survey-setup").remove() ; clearInterval(stopInterval); }; }; }, 30); return true; }; }; }; 
	this.takeSurvey = function(){ 
	var loader = new _Loader(); var i3=0; var iClr=0; var cLr="purple"; var stopIntervalTest = setInterval(function() { iClr++; if( iClr==1){ cLr ="purple" }else if(iClr ==2){ cLr ="red" }else if( iClr==3){ cLr ="orange" }else if( iClr==4){ cLr ="yellow" }else{ iClr = 0; cLr ="green" }; var tempVAL3 = $('#survey-setup').text(); if(!localConfig.compressed){ $('#survey-setup').trigger('click'); $(".info_box").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); i3++; if( i3 >= 10000){ $("#survey-setup").remove() ; clearInterval(stopIntervalTest); };}else{ if(localConfig.compressed.length >0 ){ currentTest.testLoaded = controller.uncompressTaker(localConfig.compressed) ; if(currentTest.testLoaded=true){ $("#survey-setup").remove() ; user.clickTrack = ""; currentTest.currentQuestion = 0; loader.surveyPageTake( 1 ); clearInterval(stopIntervalTest);}; }; }; }, 50); }; 
	this.uncompress = function(){ 
	var stopInterval2 = setInterval(function(){ var i2=0; if( localConfig.compressed ){ if(localConfig.compressed.length >0 ){ var tempArray=[] ; var tempArchive = [] ; tempArray[1] = toolBox.parseDataLoad1( localConfig.compressed ); tempArray[2]=[]; tempArray[3]=[]; tempArray[3]["index"]=[]; tempArray[3]["value"]=[]; var i = 0 ; $.each(tempArray[1], function(key, val){ i++ ; tempArray[2] = toolBox.parseDataLoad2( val ); $.each(tempArray[2], function(key2, val2){ if(val2 != undefined){ val2 = $.trim(val2); if(key2 == 0){ tempArray[3]["index"][i] = val2; }; if(key2 == 1){ tempArray[3]["value"][i] = val2 ; if(tempArray[3]["index"][i] && tempArray[3]["value"][i]){ if( tempArray[3]["index"][i] == "survey_defaults"){ optionsConfig.survey_defaults = tempArray[3]["value"][i] ; optionsConfig.survey_defaults =optionsConfig.survey_defaults.slice(+2,-2); tempArray[4] = toolBox.parseCustomSplit( optionsConfig.survey_defaults , '},"'); $.each( tempArray[4], function(key4, val4){ tempArray["survey_defaults"]= toolBox.parseCustomSplit( val4 , '":{'); var indexTemp="" ; var contentTemp=""; var idTemp="" ; var valueTemp=""; $.each( tempArray["survey_defaults"], function(key5, val5){ if(key5==0){ indexTemp = val5 ; contentTemp="";}; if(key5==1){ contentTemp = val5 ; }; if( ( indexTemp.length != 0) && ( contentTemp.length != 0 ) ){ tempArray[ indexTemp ]= toolBox.parseCustomSplit( contentTemp , '","'); $.each(tempArray[ indexTemp ], function(key6, val6){ tempArray[ indexTemp +'_temp']= toolBox.parseCustomSplit( val6 , '":"'); $.each(tempArray[ indexTemp +'_temp'], function(key7, val7){ val7 = val7.replace('"', ''); if(key7==0){ idTemp = $.trim(val7); valueTemp="";}; if(key7==1){ valueTemp = $.trim(val7) ;}; if( ( idTemp.length != 0) && ( valueTemp.length != 0 ) ){ tempArray[indexTemp][idTemp]=valueTemp; if( valueTemp == 'surveyFormat' ){ system_opts.surveyFormat = idTemp ; }; if( valueTemp == 'surveySetup' ){ system_opts.surveySetup = idTemp ; }; if( valueTemp == 'surveyTheme' ){ system_opts.surveyCSS = idTemp ; }; if( valueTemp == 'surveyType' ){ system_opts.surveyType = idTemp ; }; if( indexTemp == 'default_value' && idTemp==system_opts.surveySetup ){ system_opts.surveySetup = tempArray['default_value'][idTemp] ; }; if( indexTemp == 'default_value' && idTemp==system_opts.surveyType ){ system_opts.surveyType = tempArray['default_value'][idTemp] ; }; if( indexTemp == 'default_value' && idTemp==system_opts.surveyFormat ){ system_opts.surveyFormat = tempArray['default_value'][idTemp] ; }; if( indexTemp == 'default_object' && idTemp==system_opts.surveyCSS ){ system_opts.surveyCSS = tempArray['default_object'][idTemp] ; }; }; }); }); }; }); }); } else if( tempArray[3]["index"][i] == "user"){ user.id = tempArray[3]["value"][i] ; user.id = user.id.slice(+2,-2); tempArray[14] = toolBox.parseCustomSplit( user.id , '":"'); if(tempArray[14][0] == 'id'){ user.id = tempArray[14][1] ;}; } else{ currentTest.allTests = tempArray[3]["value"][i] ; currentTest.allTests =currentTest.allTests.slice(+2,-2); tempArray[24] = toolBox.parseCustomSplit( currentTest.allTests , '},"'); if(tempArray[24][1]==undefined){ tempArray[24] = toolBox.parseCustomSplit( currentTest.allTests , '":"'); currentTest.allTests= tempArray[24][0];} else{ $.each( tempArray[24], function(key24, val24){ tempArray["allTests"]= toolBox.parseCustomSplit( val24 , '":{'); var indexTextTemp="" ; var contentTextTemp=""; var idTextTemp="" ; var valueTextTemp=""; $.each( tempArray["allTests"], function(key25, val25){ if(key25==0){ indexTextTemp = val25 ; contentTextTemp="";}; if(key25==1){ tempArray[ indexTextTemp] = toolBox.parseCustomSplit( val25 , '","'); var i6=0; $.each( tempArray[indexTextTemp], function(key26, val26){ tempArray[indexTextTemp +'_temp'] = toolBox.parseCustomSplit( val26 , '":"'); i6++ ; if(!tempArchive["set_info"+i6]){ tempArchive["set_info"+i6]= launch.buildArchive(i6,tempArchive) ; }; if( currentTest.testNumber < i6 ){currentTest.testNumber = i6; }; $.each( tempArray[indexTextTemp +'_temp'], function(key27, val27){ val27 = val27.replace('"', ''); if(key27==0){ idTextTemp = val27 ; valueTextTemp="";}; if(key27==1){ valueTextTemp = val27; var tempArch = launch.buildInfoArchive( i6, idTextTemp, valueTextTemp, indexTextTemp); }; }); }); } }); }); }; }; }; }; }; }); }); clearInterval(stopInterval2); }; } else{ i2++; if( i2 >= 10000){ tempArray = undefined; clearInterval(stopInterval2); }; }; }, 100); tempArray = undefined; return true; }; 
	this.uncompressTaker = function( tempVar ){ 
	currentTest.testLoaded = false ; var tempArray = []; var i=0; var i4=0; currentTest.totalQuestions = i4; var tempKey; takeTest = new launch.setFormPages( i ); takeTest.totalAnswers = 0 ; tempVar = tempVar.trim(); tempVar = tempVar.slice(+1,-1); tempArray[1] = toolBox.parseDataLoad1( tempVar ); $.each( tempArray[1], function(key1, val1){ i++; var i2=0; tempArray[2] = toolBox.parseDataLoad2( val1 ); $.each( tempArray[2], function(key2, val2){ tempArray[3] = toolBox.parseKeySplit( val2 ); $.each( tempArray[3], function(key3, val3){ if(key3 == 0){ i2++; tempKey = val3; if(!tempArray["TEMP"+i]){ tempArray["TEMP"+i] = []; } else{tempArray["TEMP"+i][tempKey]="";}; }; if(key3 == 1){ tempArray["TEMP"+i][tempKey] = val3; if(i2==8){ i4++; takeTest = launch.setFormPages( i ); var pageHtml = view.newSurveyPage( tempArray["TEMP"+i] , i ); takeTest = launch.buildFormPages( "form_"+i, pageHtml, takeTest); takeTest["type_"+i] = tempArray["TEMP"+i]["type"]; if(tempArray["TEMP"+i]["answer"] != undefined){ takeTest["answer_"+i] = tempArray["TEMP"+i]["answer"]; } tempArray["TEMP"+i]=undefined; }; }; }); }); }); takeTest.totalAnswers = currentTest.totalQuestions = i4; tempArray = undefined; return true; }; 
	this.setUp = function(){ 
	var tempLoading = "Loading"; var iClr=1; var cLr="red"; var temp = htmlBox.buildElement( tempLoading, "i", ""); temp = htmlBox.buildIdElement( temp, "p", "survey-loading", "style='color:"+cLr+";'" ); $("#survey-content").prepend( temp ); var stopInterval3 = setInterval(function() { iClr++; if( iClr==1){ cLr ="purple" }else if(iClr ==2){ cLr ="red" }else if( iClr==3){ cLr ="orange" }else if( iClr==4){ cLr ="yellow" }else{ iClr = 0; cLr ="green" }; if(!user.id){ $("#survey-loading").empty().append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); } else{ if(!optionsConfig.survey_defaults){ $("#survey-loading").empty().append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); } else{ if(!currentTest.allTests){ $("#survey-loading").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); } else{ localConfig.setupComplete = true ; $("#survey-loading").remove() ; clearInterval(stopInterval3); }; }; }; }, 80); }; 
	this.loadUp = function(){ 
	var tempLoading = "Sorting Information"; var iClr=4; var cLr="green"; var temp = htmlBox.buildElement( tempLoading, "i", ""); temp = htmlBox.buildIdElement( temp, "p", "survey-sorting", "style='color:"+cLr+";'" ); $("#survey-content").prepend( temp ); var loaderCheck = 0; var stopInterval13 = setInterval(function() { iClr++; if( iClr==1){ cLr ="purple" }else if(iClr ==2){ cLr ="red" }else if( iClr==3){ cLr ="orange" }else if( iClr==4){ cLr ="yellow" }else{ iClr = 0; cLr ="green" }; if(!localConfig.setupComplete){ $("#survey-sorting").empty().append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); } else{ if(currentTest.testNumber<1){ if(currentTest.allTests=='no_page'){ var temp = htmlBox.buildImage( "http://"+ localConfig.domain1 + localConfig.filePathAdj  + "/Surveyor-Elite/_library/surveyorelite.png", "There are no Surveys or Quizzes for this page, or they are set to "+ fixerBox.spchar_5 +"Inactive"+ fixerBox.spchar_6 +".", "style='height:1em;'" ); $("#survey-sorting").empty().append(temp); clearInterval(stopInterval13); } else{ $("#survey-sorting").empty().append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); }; } else{ if( currentTest.testNumber >= 1 && archive_1.overview != "overview" ){ loaderCheck++ ; }; if( currentTest.testNumber >= 2 && archive_2.overview != "overview" ){ loaderCheck++ ; }; if( currentTest.testNumber >= 3 && archive_3.overview != "overview" ){ loaderCheck++ ; }; if( currentTest.testNumber >= 4 && archive_4.overview != "overview" ){ loaderCheck++ ; }; if( currentTest.testNumber >= 5 && archive_5.overview != "overview" ){ loaderCheck++ ; }; if(currentTest.testNumber != loaderCheck){ $("#survey-loading").append(".."); loaderCheck = 0;} else{ localConfig.loadupComplete = true ; $("#survey-sorting").remove() ; clearInterval(stopInterval13); }; }; }; }, 80); }; }; 

function _Loader(){ 
	this.surveyPageCheck = function( read_URL ){ 
	var temp = connect.preloadConfig(); if (temp==1){ connect.loadSurveyConfig( temp, "page_check", read_URL , localConfig.domain1 , localConfig.filePathAdj, "NULL", "NULL" ); }; }; 
	this.surveyPageGet = function(){ 
	var temp = htmlBox.buildIdElement( "", "div", "survey-setup", "style='visibility:hidden;height:0em;'" ); $('#survey-content').append( temp ); $('#survey-setup').on('click', function() { var tempContent = $(this).text(); localConfig.compressed = $.trim(tempContent); }); }; 
	this.surveyPageTake = function( tempNum ){ 
	$('.info_box').empty().append( "Test Ready..." ); if( takeTest["form_"+tempNum ] != undefined && takeTest["form_"+tempNum ] != "form_"+tempNum ){ user.currentQuestion = tempNum; $("#survey_page_count").remove(); var tempCountTitle = htmlBox.buildElement( user.currentQuestion +" of "+ currentTest.totalQuestions, "span", "id='survey_page_count'" ) ; $(".countdown").append(tempCountTitle); $('.info_box').empty().append( takeTest['form_'+tempNum ] ); if( takeTest['type_'+tempNum ] == "radio" ){ handlers.selectChoice( "choice", "survey_button" ) ; }; if( takeTest['type_'+tempNum ] == "checkbox" ){ handlers.multipleChoice( "choice", "survey_button" ) ; }; handlers.pageTurn( "survey_submit" ) ; }; }; }; 

function ajaxConnections(){ 
	this.preloadConfig = function(){ 
	activeAjaxConnections++; return activeAjaxConnections; }; 
	this.loadSurveyConfig = function( temp, tempAction, tempPg, domainNM, fileADJ, additional, userId ){ 
	activeAjaxConnections = temp; if (window.XMLHttpRequest){ xmlhttp=new XMLHttpRequest(); } else{ xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); }; xmlhttp.onreadystatechange=function(){ if (xmlhttp.readyState==4 && xmlhttp.status==200){ var tempVAL = $.trim(xmlhttp.responseText); if(tempVAL != 'no_page'){ activeAjaxConnections--; document.getElementById("survey-setup").innerHTML = xmlhttp.responseText; temp = setupBox.whileTime(activeAjaxConnections); while( temp==false ){ continue; }; if( temp==true ){ temp=undefined; }; }; }; }; var tempGET= "http://" + domainNM + fileADJ + "/Surveyor-Elite/php/survey_search.php?action="+ tempAction +"&index="+ tempPg +"&additional="+ additional +"&UiD="+ userId; xmlhttp.open("GET", tempGET ,true); xmlhttp.send(); }; 
	this.loadTaker = function( temp, tempAction, tempPg, domainNM, fileADJ, additional, userId){ 
	activeAjaxConnections = temp; if (window.XMLHttpRequest){ xmlhttp=new XMLHttpRequest(); } else{ xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); }; xmlhttp.onreadystatechange=function(){ if (xmlhttp.readyState==4 && xmlhttp.status==200){ var tempVAL = $.trim(xmlhttp.responseText); if(tempVAL != 'no_page'){ activeAjaxConnections--; document.getElementById("survey-setup").innerHTML=xmlhttp.responseText; temp = setupBox.whileTime(activeAjaxConnections); }; }; }; xmlhttp.open("GET","http://" + domainNM + fileADJ + "/Surveyor-Elite/php/survey_search.php?action="+ tempAction +"&index="+ tempPg +"&additional="+ additional +"&UiD="+ userId ,true); xmlhttp.send(); }; 
	this.testTaker = function( temp, tempAction, tempPg, domainNM, fileADJ, additional, submission, subNum, userId){ 
	activeAjaxConnections = temp; var extendCall = ""; if(tempAction == "test_results" ){var extendCall = subNum ;}; if (window.XMLHttpRequest){ xmlhttp=new XMLHttpRequest(); } else{ xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); }; xmlhttp.onreadystatechange=function(){ if (xmlhttp.readyState==4 && xmlhttp.status==200){ var tempVAL = $.trim(xmlhttp.responseText); if(tempVAL != 'no_page'){ activeAjaxConnections--; var tempCon =xmlhttp.responseText; if( tempAction == "page_turn" ){ tempCon = $.trim(tempCon); if(tempCon !="" || tempCon != "NULL" || tempCon != undefined){ var extendCall = ""; tempCon = tempCon.slice(+1,-1); user["ecpt_"+ subNum] = tempCon ; if( user["ecpt_"+ subNum].length>1){ var checkAnswer = toolBox.validateTest( user["ecpt_"+subNum], takeTest["answer_"+subNum], subNum); }; }; }; }; }; }; xmlhttp.open("GET","http://" + domainNM + fileADJ + "/Surveyor-Elite/php/survey_search.php?action="+ tempAction +"&index="+ tempPg +"&additional="+ additional +"&submission="+ submission +"&UiD="+ userId + "&results=" + extendCall ,true); xmlhttp.send(); }; }; 

function setupTools(){ 
	this.setUser = function ( ObjTemp ){ 
	user.user_name="user_name"; user.name_check=false ; user.name_save=false ; }; 
	this.whileTime = function (tempSet){ 
	var tempContinue = false; while(tempSet==1){ continue; }; var tempVAL2 = $('#survey-setup').text(); while(tempVAL2.length < 1){ tempVAL2 = $('#survey-setup').text(); tempContinue = false; }; if(tempVAL2.length >= 1){ tempContinue = true; return tempContinue ; }; }; 
	this.clickHashURL = function (){ 
	var hash = $(this).attr('href'); location.hash = hash; hash = hash.replace("#", ""); return hash; }; 
	this.readURL = function (){ 
	var pathname = window.location.pathname; pathname = toolBox.parseNavSplit(pathname); var pathNameTotal = pathname.length; pathNameTotal = pathNameTotal - 1; var tempPath = pathname[pathNameTotal]; if(tempPath=='undefined' || tempPath==""){tempPath="index";}; return tempPath; }; }; 

function surveyTools(){ 
	this.parseDataLoad1 = function ( tempVar ){ 
	var parsedTempVar = tempVar.split("|_-_|"); return parsedTempVar; }; 
	this.parseDataLoad2 = function ( tempVar ){ 
	var parsedTempVar = tempVar.split("|_:_|"); return parsedTempVar; }; 
	this.parseDataSplit = function ( tempVar ){ 
	var parsedTempVar = tempVar.split("|=|"); return parsedTempVar; }; 
	this.parseKeySplit = function ( tempVar ){ 
	var parsedTempVar = tempVar.split("|-|"); return parsedTempVar; }; 
	this.parseNavSplit = function ( tempVar ){ 
	var parsedTempVar = tempVar.split("/"); return parsedTempVar; }; 
	this.parseCustomSplit = function ( tempVar, index ){ 
	var parsedTempVar = tempVar.split( index ); return parsedTempVar; }; 
	this.validateObject = function ( tempSubString, tempString ){ 
	if(tempString!=undefined){ var temp = tempString.indexOf(tempSubString); if(temp >= 0 ){return true;} else {return false;}; }else{ return false; }; }; 
	this.validateTest = function(userVal, testVal, QuestionNum){ 
	if(QuestionNum === 1){ user.correctNum = 0; user.incorrectNum = 0; user.correct = ""; user.incorrect = ""; }; if( QuestionNum === (user.correctNum + user.incorrectNum) + 1 ){ userVal = $.trim(userVal); testVal = $.trim(testVal); var check1 = toolBox.validateObject( ",", userVal ); var check2 = toolBox.validateObject( ",", testVal ); if( check1 === true || check2 === true){ if( check1 === true && check2 === true){ if(userVal == testVal){ user.correct += QuestionNum + ", " ; user.correctNum++; } else{ user.incorrect += QuestionNum + ", " ; user.incorrectNum++; }; } else{ user.incorrect += QuestionNum + ", " ; user.incorrectNum++; }; }; if( check1 === false && check2 === false){ if(userVal == testVal){ user.correct += QuestionNum + ", " ; user.correctNum++ ; } else{ user.incorrect += QuestionNum + ", " ; user.incorrectNum++; }; }; takeTest = launch.setFormPages( QuestionNum ); user.score = Math.round((user.correctNum/ takeTest.totalAnswers)*100); if(takeTest["answer_"+QuestionNum]){ takeTest["answer_"+QuestionNum] = undefined ; }; if(takeTest["answer_"+QuestionNum]){ takeTest["form_"+QuestionNum] = undefined ; }; if(user["answer_"+QuestionNum]){ user["answer_"+QuestionNum] = undefined ; }; if(user["answer_"+QuestionNum]){ user["ecpt_"+ QuestionNum ] = undefined ; }; return true; }; }; 
	this.cleanExpression = function ( tempVar, tempExp, tempReplace ){ 
	var tempVar = tempVar.replace(fixerBox.checkIllegals, fixerBox.recleanLiteralString); tempVar = tempVar.replace(tempExp, tempReplace); return tempVar; }; 
	this.cleanText = function ( tempVar ){ 
	var i = 0 ; while(i<=120){ if(fixerBox["char_"+i]){ var pattern = new RegExp("\\"+fixerBox["char_"+i], 'g'); tempVar = tempVar.replace(pattern, fixerBox["spchar_"+i]); } i++; }; if(i>120){ return tempVar;}; }; 
	this.reCleanText = function ( tempVar ){ 
	var i = 0 ; while(i<=120){ if(fixerBox["char_"+i]){ var pattern = new RegExp("\\"+fixerBox["spchar_"+i], 'g'); tempVar = tempVar.replace(pattern, fixerBox["char_"+i]); }; i++; }; if(i>120){ return tempVar;}; }; 
	this.cleanValue = function( tempVar ){ 
	tempVar=tempVar.replace(/\'/g,"_aPe_"); tempVar=tempVar.replace(/\"/g,"_qOe_"); return tempVar; }; 
	this.recleanValue = function( tempVar ){ 
	tempVar=tempVar.replace(/((\_){1}(aPe){1}(\_){1})/g,"'"); tempVar=tempVar.replace(/((\_){1}(qOe){1}(\_){1})/g,'"'); return tempVar; }; 
	this.checkExpression = function ( tempVar, tempExp ){ 
	var tempCheck = tempExp.test(tempVar) ; if( tempCheck ){ tempVar=true ; }; if( !tempCheck ){ tempVar = false ; }; return tempVar; }; 
	this.clenseValue = function( tempVar){ 
	tempVar= tempVar.toLowerCase(); tempVar = toolBox.cleanExpression( tempVar, fixerBox.checkSpace, "-"); return tempVar; }; 
	this.listAllOBJ = function ( tempVar ){ 
	var OBJToInspect; var result = []; for(OBJToInspect = tempVar; OBJToInspect !== null; OBJToInspect = Object.getPrototypeOf(OBJToInspect)){ result = result.concat(Object.getOwnPropertyNames(OBJToInspect)); }; return result; }; 
	this.checkTimer = function( tempVal ){ 
	if( tempVal == archive_1.survey_name ){ this.timer = archive_1.timer ; } else if( tempVal == archive_2.survey_name ){ this.timer = archive_2.timer ; } else if( tempVal == archive_3.survey_name ){ this.timer = archive_3.timer ; } else if( tempVal == archive_4.survey_name ){ this.timer = archive_4.timer ; } else if( tempVal == archive_5.survey_name ){ this.timer = archive_5.timer ; } else { user.takeTest = "error" ; }; return this; }; }; 

function buildHtml(){
	this.buildAnchor = function( tempTest, tempTitle, option ){ 
	var tempHtml = "<a href='" + tempTest + "' " + option + " >" + tempTitle + "</a>"; return tempHtml; }; 
	this.buildButton = function( temp, tempNm, handClass ){ 
	var tempStyle="hidden"; var tempHtml = "<input type='submit' name='" + tempNm + "' id='" + tempNm + "' value='" + temp + "' class='survey_button "+handClass+"' style='visibility:"+tempStyle+"' />" ; return tempHtml; }; 
	this.buildZoom = function( temp, tempNm, handClass ){ 
	var tempHtml = "<input type='button' name='" + tempNm + "' id='" + tempNm + "' value='" + temp + "' class='zoom_button "+handClass+"' />" ; return tempHtml; }; 
	this.buildReturn = function( temp, tempNm){ 
	var tempHtml = "<input type='submit' name='" + tempNm + "' id='" + tempNm + "' value='" + temp + "' class='survey_button survey-landing' />" ; return tempHtml; }; 
	this.buildElement = function( temp, elemType, option ){ 
	var tempHtml = "<" + elemType + " " + option + " >" + temp + "</" + elemType + ">" ; return tempHtml; }; 
	this.buildIdElement = function( temp, elemType, tempId, option ){ 
	var tempHtml = "<" + elemType + " id='" + tempId + "' " + option + " >" + temp + "</" + elemType + ">" ; return tempHtml; }; 
	this.buildHeadElement = function( temp, elemType, tempType, option ){ 
	var tempHtml = "<" + elemType + " type='" + tempType + "' " + option + ">" + temp + "</" + elemType + ">" ; return tempHtml; }; 
	this.buildImage = function( tempSrc, tempAlt, option ){ 
	var tempHtml = "<img src='" + tempSrc + "' title='" + tempAlt + "' alt='" + tempAlt + "' " + option + " />" ; return tempHtml; }; 
	this.buildInput = function( temp, tempNm, tempType, option ){ 
	var tempHtml = "<input type='" + tempType +"' name='" + tempNm + "' value='" + temp + "' " + option + " />"; return tempHtml; }; 
	this.buildInputId = function( temp, tempNm, tempId, tempType, option ){ 
	var tempHtml = "<input type='" + tempType +"' name='" + tempNm + "' id='" + tempId + "' value='" + temp + "' " + option + " />"; return tempHtml; }; 
	this.buildInputArea = function( temp, tempNm, tempType, option ){ 
	var tempHtml = "<textarea placeholder="+ tempType +"' name='" + tempNm + "' " + option + " >" + temp + "</textarea>"; return tempHtml; }; 
	this.survey_invalid_style ="box-shadow: 4px 4px 6px rgb(190,0,0);" ; 
	this.survey_valid_style ="box-shadow: 4px 4px 6px rgb(0,190,0);" ; 
	this.survey_warn_style = "border:0.3em double rgb(195, 0,0 );" ; }; 

function _Launch(){ 
	this.setOBJS = function(){ 
	var optionsConfig ; var system_opts ; var localConfig ; var setupBox ; var toolBox ; var htmlBox ; var connect ; var render ; var view ; var user ; var currentTest ; var takeTest ; var timers ; var stopIntervalcountDown; var ObjTemp ; var tempLaunch1 = false ; var tempLaunch2 = false ; var tempLaunch3 = false ; var tempLaunch4 = false ; var archive_1 ; var archive_2 ; var archive_3 ; var archive_4 ; var archive_5 ; return true; }; 
	this.setFormPages = function( tempTotal ){ 
	if( tempTotal == 0 ){this.allAnswers = "|=|"; }else{ this.allAnswers=tempTotal; this["form_"+tempTotal ] = "form_"+tempTotal ; }; return this; }; 
	this.surveyConfigLocal = function(){ 
	this.surveySetup = ""; this.surveyTheme = ""; this.surveyCSS = ""; this.surveyType = ""; this.surveyFormat = ""; }; 
	this.surveyConfigThemes = function(){ 
	this.none = "none"; this._Default = ""; this.Theme_1 = ""; this.Theme_2 = ""; this.Theme_3 = ""; this.Theme_4 = ""; }; 
	this.surveyConfigTests = function(){ 
	this.allTests = ""; this.testPage = ""; this.testNumber = 0; }; this.surveyConfigUser = function( ){ this.id = ""; this.name = ""; }; 
	this.surveyConfigDefault = function(){ 
	this.survey_defaults = ""; }; 
	this.setDomain = function( loadPathAdjustment ){ 
	this.domain1 = window.location.host ; this.domain2 = document.domain ; this.urlPathname = window.location.href; this.filePathAdj = loadPathAdjustment._setPath(); this.compressed = ""; return this; }; 
	this.buildArchive = function( num, tempArchive ){ 
	if(!tempArchive["set_info"+ num]){ if( num == 1 ){ archive_1 = new launch.surveyArchive() ; tempArchive["set_info"+ num] = true ; }; if( num == 2 ){ archive_2 = new launch.surveyArchive() ; tempArchive["set_info"+ num] = true ; }; if( num == 3 ){ archive_3 = new launch.surveyArchive() ; tempArchive["set_info"+ num] = true ; }; if( num == 4 ){ archive_4 = new launch.surveyArchive() ; tempArchive["set_info"+ num] = true ; }; if( num == 5 ){ archive_5 = new launch.surveyArchive() ; tempArchive["set_info"+ num] = true ; }; }; return true; }; 
	this.surveyArchive = function(){ 
	this.id = "id" ; this.form_type = "form_type" ; this.info_titles = "info_titles" ; this.page_name = "page_name" ; this.survey_name = "survey_name"; this.info_image = "info_image" ; this.image_comment = "image_comment" ; this.survey_title = "survey_title"; this.overview = "overview" ; this.user_level = "user_level" ; this.time_length = "time_length" ; this.timer = "timer" ; this.results = "results"; this.purpose = "purpose" ; this.author = "author" ; this.release_date = "release_date" ; this.closing = "closing" ; this.closing_link = "closing_link" ; this.user_name = "user_name" ; return this; }; 
	this.buildFormPages = function( tempKey, tempVal, ObjTemp){ 
	if( tempKey == ObjTemp[tempKey]){ ObjTemp[tempKey] = tempVal ; }; return ObjTemp; }; 
	this.buildInfoArchive = function( num, keyTemp, valTemp, indexTemp){ 
	if( num == 1 ){ archive_1 = launch.archiveFill( keyTemp, valTemp, indexTemp, archive_1 ) ; }; if( num == 2 ){ archive_2 = launch.archiveFill( keyTemp, valTemp, indexTemp, archive_2 ) ; }; if( num == 3 ){ archive_3 = launch.archiveFill( keyTemp, valTemp, indexTemp, archive_3 ) ; }; if( num == 4 ){ archive_4 = launch.archiveFill( keyTemp, valTemp, indexTemp, archive_4 ) ; }; if( num == 5 ){ archive_5 = launch.archiveFill( keyTemp, valTemp, indexTemp, archive_5 ) ; }; }; 
	this.archiveFill = function( keyTemp, valTemp, indexTemp, ObjTemp){ 
	if( indexTemp == ObjTemp.id ){ ObjTemp.id = keyTemp ; }; if( indexTemp == ObjTemp.form_type ){ ObjTemp.form_type = valTemp ; }; if( indexTemp == ObjTemp.info_titles ){ ObjTemp.info_titles = valTemp ; }; if( indexTemp == ObjTemp.page_name ){ ObjTemp.page_name = valTemp ; }; if( indexTemp == ObjTemp.survey_name ){ ObjTemp.survey_name = valTemp ; }; if( indexTemp == ObjTemp.info_image ){ ObjTemp.info_image = valTemp ; }; if( indexTemp == ObjTemp.image_comment ){ ObjTemp.image_comment = valTemp ; }; if( indexTemp == ObjTemp.survey_title ){ ObjTemp.survey_title = valTemp ; }; if( indexTemp == ObjTemp.overview ){ ObjTemp.overview = valTemp ; }; if( indexTemp == ObjTemp.user_level ){ ObjTemp.user_level = valTemp ; }; if( indexTemp == ObjTemp.time_length ){ ObjTemp.time_length = valTemp ; }; if( indexTemp == ObjTemp.timer ){ ObjTemp.timer = valTemp ; }; if( indexTemp == ObjTemp.results ){ ObjTemp.results = valTemp ; }; if( indexTemp == ObjTemp.purpose ){ ObjTemp.purpose = valTemp ; }; if( indexTemp == ObjTemp.author ){ ObjTemp.author = valTemp ; }; if( indexTemp == ObjTemp.release_date ){ ObjTemp.release_date = valTemp ; }; if( indexTemp == ObjTemp.closing ){ ObjTemp.closing = valTemp ; }; if( indexTemp == ObjTemp.closing_link ){ ObjTemp.closing_link = valTemp ; }; if( indexTemp == ObjTemp.user_name ){ ObjTemp.user_name = valTemp ; }; return ObjTemp; }; 
	this.buildClosing = function(){ 
	if( user.takeTest == archive_1.survey_name ){ takeTest.closing = archive_1.closingHTML ; archive_1.takeTest = true; } else if( user.takeTest == archive_2.survey_name ){ takeTest.closing = archive_2.closingHTML ; archive_2.takeTest = true; } else if( user.takeTest == archive_3.survey_name ){ takeTest.closing = archive_3.closingHTML ; archive_3.takeTest = true; } else if( user.takeTest == archive_4.survey_name ){ takeTest.closing = archive_4.closingHTML ; archive_4.takeTest = true; } else if( user.takeTest == archive_5.survey_name ){ takeTest.closing = archive_5.closingHTML ; archive_5.takeTest = true; } else { user.takeTest = "error" ; }; }; }; 

function fixers(){ 
	this.checkSpace = /\s/g ; this.checkSpacePlus = /\s{2,100}/g ; this.checkInteger = /^[\d]+$/ ; this.checkData = /([^A-Za-z0-9_])/g ; this.checkIllegals = /(((\|){1}(\:){1}(\|){1})|((\|){1}(\=){1}(\|){1})|((\|){1}(\-){1}(\|){1})|((\|){1}(\_){1}(\|){1})|((\|){1}(\:){1}(\-){1}(\:){1}(\|){1})|((\|){1}(\:){1}(\=){1}(\:){1}(\|){1})|((\|){1}(\-){1}(\_){1}(\-){1}(\|){1})|((\|){1}(\_){1}(\-){1}(\_){1}(\|){1})|((\|){1}(\_){1}(\:){1}(\_){1}(\|){1}) )/g; this.checkDataName = /[\"\'\\\/\¡\¿\“\”\‘\’\«\»\s\¢\©\÷\>\<\µ\·\¶\±\:\;\£\®\§\™\¥\%\(\)\*\+\,\.\=\?\[\]\{\|\}\~\…\¦\¬\•\¼\½\¾\á\à\â\å\ã\ä\æ\ç\é\è\ê\ë\í\ì\î\ï\ñ\ó\ò\ô\ø\õ\ö\ß\ú\ù\û\ü\ÿ\´\Á\À\Â\Å\Ã\Ä\Æ\Ç\É\È\Ê\Ë\Í\Ì\Î\Ï\Ñ\Ó\Ò\Ô\Ø\Õ\Ö\Ú\Ù\Û\Ü\`]?/g ; this.checkLiteralString = /([.*+?^=!:${}<>()|\[\]\/\\])/g ; this.recheckLiteralString = /\\/g ; this.checkSsn = /^\d{3}([\- ]?)\d{2}([\- ]?)\d{4}$/ ; this.checkEmail = /^[a-zA-Z0-9\.\_\-\!]+@[a-zA-Z0-9\.\_\-]+\.[a-zA-Z]{2,4}$/ ; this.checkEmailString = /([*\+\?\^\=\<\>\:\;\$\{\}\(\)|\[\]\/\\])/g ; this.checkUrl = /^((ftp|http|https):\/\/){0,1}((((WWW|www)\.){0,1}((([a-zA-Z0-9\_\-]){2,200}(\.){1}){1}(([a-zA-Z]{2}\.{1}){0,1}((aero|biz|com|coop|info|museum|net|org|pro|travel|gov|edu|mil|int){1}){1}){1}){1}){0,1}(\blocalhost\b){0,1}){1}(((\/){1}([a-zA-Z0-9\/\_\-\.\&\?\=]){1,200}){0,20})?$/ ; this.checkPassword = /^[A-Za-z\d]{6,24}$/ ; this.checkPhone = /^\d{3}([\- ]?)\d{3}([\- ]?)\d{4}$/ ; this.checkPhoneCntry = /^\d{1,5}([\- ]?)\d{3}([\- ]?)\d{3}([\- ]?)\d{4}$/ ; this.checkPhoneExit = /^\d{1,4}([\- ]?)\d{1,5}([\- ]?)\d{3}([\- ]?)\d{3}([\- ]?)\d{4}$/ ; this.cleanSsn = "$1-$2-$3" ; this.cleanPhoneCntry = "$1-$2-$3-$4" ; this.cleanPhoneExit = "$1-$2-$3-$4-$5" ; this.cleanLiteralString = "\\$1" ; this.recleanLiteralString = "" ; this.cleanSpacePlus = " " ; this.cleanSpace = " " ; this.char_0 = "–" ; this.spchar_0 = "&#8211" ; this.char_1 = "—" ; this.spchar_1 = "&#8212;" ; this.char_2 = "¡" ; this.spchar_2 = "&#161;" ; this.char_3 = "¿" ; this.spchar_3 = "&#191;" ; this.char_4 = '"' ; this.spchar_4 = "&#34;" ; this.char_5 = "“" ; this.spchar_5 = "&#8220;" ; this.char_6 = "”" ; this.spchar_6 = "&#8221;" ; this.char_7 = "'" ; this.spchar_7 = "&#39;" ; this.char_8 = "‘" ; this.spchar_8 = "&#8216;" ; this.char_9 = "’" ; this.spchar_9 = "&#8217;" ; this.char_10 = "«" ; this.spchar_10 = "&#171;" ; this.char_11 = "»" ; this.spchar_11 = "&#187;" ; this.char_13 = "¢" ; this.spchar_13 = "&#162;" ; this.char_14 = "©" ; this.spchar_14 = "&#169;" ; this.char_15 = "÷" ; this.spchar_15 = "&#247;" ; this.char_16 = ">" ; this.spchar_16 = "&#62;" ; this.char_17 = "<" ; this.spchar_17 = "&#60;" ; this.char_18 = "µ" ; this.spchar_18 = "&#181;" ; this.char_19 = "·" ; this.spchar_19 = "&#183;" ; this.char_20 = "¶" ; this.spchar_20 = "&#182;" ; this.char_21 = "±" ; this.spchar_21 = "&#177;" ; this.char_22 = "€" ; this.spchar_22 = "&#8364;" ; this.char_23 = "£" ; this.spchar_23 = "&#163;" ; this.char_24 = "®" ; this.spchar_24 = "&#174;" ; this.char_25 = "§" ; this.spchar_25 = "&#167;" ; this.char_26 = "™" ; this.spchar_26 = "&#153;" ; this.char_27 = "¥" ; this.spchar_27 = "&#165;" ; this.char_28 = "/" ; this.spchar_28 = "&#47;" ; this.char_29 = "%" ; this.spchar_29 = "&#37;" ; this.char_30 = "(" ; this.spchar_30 = "&#40;" ; this.char_31 = ")" ; this.spchar_31 = "&#41;" ; this.char_32 = "*" ; this.spchar_32 = "&#42;" ; this.char_33 = "+" ; this.spchar_33 = "&#43;" ; this.char_34 = "," ; this.spchar_34 = "&#44;" ; this.char_35 = "-" ; this.spchar_35 = "&#45;" ; this.char_36 = "." ; this.spchar_36 = "&#46;" ; this.char_37 = ":" ; this.spchar_37 = "&#58;" ; this.char_39 = "=" ; this.spchar_39 = "&#61;" ; this.char_40 = "?" ; this.spchar_40 = "&#63;" ; this.char_41 = "[" ; this.spchar_41 = "&#91;" ; this.char_42 = "\\" ; this.spchar_42 = "&#92;" ; this.char_43 = "]" ; this.spchar_43 = "&#93;" ; this.char_44 = "_" ; this.spchar_44 = "&#94;" ; this.char_45 = "_" ; this.spchar_45 = "&#95;" ; this.char_46 = "{" ; this.spchar_46 = "&#123;" ; this.char_47 = "|" ; this.spchar_47 = "&#124;" ; this.char_48 = "}" ; this.spchar_48 = "&#125;" ; this.char_49 = "~" ; this.spchar_49 = "&#126;" ; this.char_50 = "…" ; this.spchar_50 = "&#133;" ; this.char_51 = "–" ; this.spchar_51 = "&#150;" ; this.char_52 = "—" ; this.spchar_52 = "&#151;" ; this.char_53 = "¦" ; this.spchar_53 = "&#166;" ; this.char_54 = "¬" ; this.spchar_54 = "&#172;" ; this.char_55 = "•" ; this.spchar_55 = "&#8226;" ; this.char_56 = "¼" ; this.spchar_56 = "&#188;" ; this.char_57 = "½" ; this.spchar_57 = "&#189;" ; this.char_58 = "¾" ; this.spchar_58 = "&#190;" ; this.char_59 = "á" ; this.spchar_59 = "&#225;" ; this.char_60 = "à" ; this.spchar_60 = "&#224;" ; this.char_61 = "â" ; this.spchar_61 = "&#226;" ; this.char_62 = "å" ; this.spchar_62 = "&#229;" ; this.char_63 = "ã" ; this.spchar_63 = "&#227;" ; this.char_64 = "ä" ; this.spchar_64 = "&#228;" ; this.char_65 = "æ" ; this.spchar_65 = "&#230;" ; this.char_66 = "ç" ; this.spchar_66 = "&#231;" ; this.char_67 = "é" ; this.spchar_67 = "&#233;" ; this.char_68 = "è" ; this.spchar_68 = "&#232;" ; this.char_69 = "ê" ; this.spchar_69 = "&#234;" ; this.char_70 = "ë" ; this.spchar_70 = "&#235;" ; this.char_71 = "í" ; this.spchar_71 = "&#237;" ; this.char_72 = "ì" ; this.spchar_72 = "&#236;" ; this.char_73 = "î" ; this.spchar_73 = "&#238;" ; this.char_74 = "ï" ; this.spchar_74 = "&#239;" ; this.char_75 = "ñ" ; this.spchar_75 = "&#241;" ; this.char_76 = "ó" ; this.spchar_76 = "&#243;" ; this.char_77 = "ò" ; this.spchar_77 = "&#242;" ; this.char_78 = "ô" ; this.spchar_78 = "&#244;" ; this.char_79 = "ø" ; this.spchar_79 = "&#248;" ; this.char_80 = "õ" ; this.spchar_80 = "&#245;" ; this.char_81 = "ö" ; this.spchar_81 = "&#246;" ; this.char_82 = "ß" ; this.spchar_82 = "&#223;" ; this.char_83 = "ú" ; this.spchar_83 = "&#250;" ; this.char_84 = "ù" ; this.spchar_84 = "&#249;" ; this.char_85 = "û" ; this.spchar_85 = "&#251;" ; this.char_86 = "ü" ; this.spchar_86 = "&#252;" ; this.char_87 = "ÿ" ; this.spchar_87 = "&#255;" ; this.char_88 = "´" ; this.spchar_88 = "&#180;" ; this.char_89 = "Á" ; this.spchar_89 = "&#193;" ; this.char_90 = "À" ; this.spchar_90 = "&#192;" ; this.char_91 = "Â" ; this.spchar_91 = "&#194;" ; this.char_92 = "Å" ; this.spchar_92 = "&#197;" ; this.char_93 = "Ã" ; this.spchar_93 = "&#195;" ; this.char_94 = "Ä" ; this.spchar_94 = "&#196;" ; this.char_95 = "Æ" ; this.spchar_95 = "&#198;" ; this.char_96 = "Ç" ; this.spchar_96 = "&#199;" ; this.char_97 = "É" ; this.spchar_97 = "&#201;" ; this.char_98 = "È" ; this.spchar_98 = "&#200;" ; this.char_99 = "Ê" ; this.spchar_99 = "&#202;" ; this.char_100 = "Ë" ; this.spchar_100 = "&#203;" ; this.char_101 = "Í" ; this.spchar_101 = "&#205;" ; this.char_102 = "Ì" ; this.spchar_102 = "&#204;" ; this.char_103 = "Î" ; this.spchar_103 = "&#206;" ; this.char_104 = "Ï" ; this.spchar_104 = "&#207;" ; this.char_105 = "Ñ" ; this.spchar_105 = "&#209;" ; this.char_106 = "Ó" ; this.spchar_106 = "&#211;" ; this.char_107 = "Ò" ; this.spchar_107 = "&#210;" ; this.char_108 = "Ô" ; this.spchar_108 = "&#212;" ; this.char_109 = "Ø" ; this.spchar_109 = "&#216;" ; this.char_110 = "Õ" ; this.spchar_110 = "&#213;" ; this.char_111 = "Ö" ; this.spchar_111 = "&#214;" ; this.char_112 = "Ú" ; this.spchar_112 = "&#218;" ; this.char_113 = "Ù" ; this.spchar_113 = "&#217;" ; this.char_114 = "Û" ; this.spchar_114 = "&#219;" ; this.char_115 = "Ü" ; this.spchar_115 = "&#220;" ; this.char_116 = "`" ; this.spchar_116 = "&#96;" ; }; 

function viewer(){ 
	this.newSurveyPage = function( ObjTemp, formNum ){
	 var html = ""; var tempHTML = ""; var tempComment = ""; if( ObjTemp.image != "NULL" ){ ObjTemp.image = ObjTemp.image.replace(/\\/g,""); if( ObjTemp.comment == "NULL" ){ ObjTemp.comment = "thumbnail" ; }; if( ObjTemp.comment != "NULL" && ObjTemp.comment != "thumbnail" ){ ObjTemp.comment = ObjTemp.comment.replace(/\\/g,""); tempComment += htmlBox.buildElement( ObjTemp.comment, "span", "" ); }; tempHTML += htmlBox.buildImage( ObjTemp.image, ObjTemp.comment, "id='survey-image'" ) + tempComment; html = htmlBox.buildElement( tempHTML, "div", "id='comment-img' class='image_box'" ); }; if( ObjTemp.question != "NULL" ){ ObjTemp.question = ObjTemp.question.replace(/\\/g,""); takeTest["question_"+ formNum] = ObjTemp.question; html += htmlBox.buildIdElement( formNum+". "+ObjTemp.question, "p", "ID_"+ObjTemp.id, "class='question'" ); }; if( ObjTemp.answer != "NULL" ){ ObjTemp.answer = ObjTemp.answer.replace(/\\/g,"");}; if( ObjTemp.type === "text" ){ var tempInput = htmlBox.buildInputId( "", 'choice', ObjTemp.type+"_"+i, ObjTemp.type, "class='choice'" ); html += htmlBox.buildElement( tempInput, "div", "class='choice-box'" ); } else if( ObjTemp.type === "textarea" ){ var tempInput = htmlBox.buildInputArea( "", 'choice', ObjTemp.type, "class='choice'" ); html += htmlBox.buildElement( tempInput, "div", "class='choice-box'" ); } else{ if( ObjTemp.choices != "NULL" ){ ObjTemp.choices = ObjTemp.choices.replace(/\\/g,""); var temp = toolBox.parseDataSplit( ObjTemp.choices ); var i = 0 ; $.each(temp, function(key, val){ i++ ; var tempVal = toolBox.cleanExpression(val, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; val = toolBox.cleanValue( tempVal ); tempVal = toolBox.cleanText( tempVal ) ; var tempInput = htmlBox.buildInputId( val, 'choice', ObjTemp.type+"_"+i, ObjTemp.type, "class='choice'" ); tempInput += "<label for='"+ ObjTemp.type+"_"+i+"' >"+tempVal+"</label>" ; html += htmlBox.buildElement( tempInput, "div", "class='choice-box'" ); }); }; }; html += htmlBox.buildButton( "Submit Answer", formNum, "survey_submit" ) ; html = htmlBox.buildIdElement( html, "div", "form_"+formNum , "class='form'" ); return html; }; 
	this.newResultsPage = function( ObjTemp, totalNum ){ 
	var html = ""; var FinalAnswer ; var i = 0; var tempTitle = "Score: "+ user.score + "% &diams; "+ user.correctNum +" of "+ takeTest.totalAnswers +" &diams; Correct: "+ user.correct + " - Incorrect: "+user.incorrect ; html += htmlBox.buildElement( tempTitle, "span", "class='score'" ); user.resultsHTML = htmlBox.buildElement( html, "div", "class='info_box'" ); }; 
	this.surveyInfo = function(){ 
	var i=1; var i2=0; var stopIntervalInfo = setInterval(function(){ if( localConfig.setupComplete == true && localConfig.loadupComplete == true ){ if(currentTest.testNumber >= i){ i2 = view.buildInfoHTML( i ) ; i=i2; }; if( currentTest.testNumber < i ){ render.landing(); clearInterval( stopIntervalInfo ); }; }; }, 100); }; 
	this.buildInfoHTML = function( num ){ 
	if( num == 1 ){ if( archive_1.id.length >= 1 && archive_1.id != "id" ){ archive_1.infoHTML = view.contentInfoFill( archive_1 ); archive_1.closingHTML = view.contentClosingFill( archive_1 ); if( archive_1.infoHTML.length > 7 ){ num++; return num; }; }; } else if( num == 2 ){ if( archive_2.id.length >= 1 && archive_2.id != "id" ){ archive_2.infoHTML = view.contentInfoFill( archive_2 ); archive_2.closingHTML = view.contentClosingFill( archive_2 ); if( archive_2.infoHTML.length > 7 ){ num++; return num; }; }; } else if( num == 3 ){ if( archive_3.id.length >= 1 && archive_3.id != "id" ){ archive_3.infoHTML = view.contentInfoFill( archive_3 ); archive_3.closingHTML = view.contentClosingFill( archive_3 ); if( archive_3.infoHTML.length > 7 ){ num++; return num; } } } else if( num == 4 ){ if( archive_4.id.length >= 1 && archive_4.id != "id" ){ archive_4.infoHTML = view.contentInfoFill( archive_4 ); archive_4.closingHTML = view.contentClosingFill( archive_4 ); if( archive_4.infoHTML.length > 7 ){ num++; return num; }; }; } else if( num == 5 ){ if(archive_5.id.length >= 1 && archive_5.id != "id" ){ archive_5.infoHTML = view.contentInfoFill( archive_5 ); archive_5.closingHTML = view.contentClosingFill( archive_5 ); if( archive_5.infoHTML.length > 7 ){ num++; return num; }; }; } else{ num++; return num; }; }; 
	this.contentInfoFill = function( ObjTemp ){ 
	var html = ""; var tempHTML = ""; var tempComment = ""; if( ObjTemp.info_image != "NULL" ){ ObjTemp.info_image = ObjTemp.info_image.replace(/\\/g,""); if( ObjTemp.image_comment == "NULL" ){ ObjTemp.image_comment = "thumbnail" ; }; if( ObjTemp.image_comment != "NULL" && ObjTemp.image_comment != "thumbnail" ){ ObjTemp.image_comment = ObjTemp.image_comment.replace(/\\/g,""); tempComment += htmlBox.buildElement( ObjTemp.image_comment, "span", "" ); }; tempHTML += htmlBox.buildImage( ObjTemp.info_image, ObjTemp.image_comment, "id='survey-image'" ) + tempComment; html = htmlBox.buildElement( tempHTML, "div", "id='comment-img' class='image_box'" ); }; if( ObjTemp.overview != "NULL" ){ var tempVal = toolBox.cleanExpression( ObjTemp.overview, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; tempVal = toolBox.cleanText( tempVal ) ; if( ObjTemp.info_titles == "true" ){var htmlSubTitle = htmlBox.buildElement( "Overview : ", "b", "" ) ;} else { var htmlSubTitle = ""; }; html += htmlBox.buildElement( htmlSubTitle + tempVal, "p", "" ); }; if( ObjTemp.form_type == "Quiz" && ObjTemp.user_level != "NULL" ){ if( ObjTemp.info_titles == "true" ){var htmlSubTitle = htmlBox.buildElement( "Quiz Level : ", "b", "" ) ;} else { var htmlSubTitle = ""; }; html += htmlBox.buildElement( htmlSubTitle + ObjTemp.user_level, "p", "" ) ; }; if( ObjTemp.time_length != "NULL" ){ var tempVal = toolBox.cleanExpression( ObjTemp.time_length, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; tempVal = toolBox.cleanText( tempVal ) ; if( ObjTemp.info_titles == "true" ){var htmlSubTitle = htmlBox.buildElement( "Time Length : ", "b", "" );} else { var htmlSubTitle = ""; }; html += htmlBox.buildElement( htmlSubTitle + tempVal, "p", "" ) ; }; if( ObjTemp.purpose != "NULL" ){ var tempVal = toolBox.cleanExpression( ObjTemp.purpose, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; tempVal = toolBox.cleanText( tempVal ) ; if( ObjTemp.info_titles == "true" ){var htmlSubTitle = htmlBox.buildElement( "Purpose : ", "b", "" );} else { var htmlSubTitle = ""; }; html += htmlBox.buildElement( htmlSubTitle + tempVal, "p", "" ) ; }; if( ObjTemp.author != "NULL" ){ var tempVal = toolBox.cleanExpression( ObjTemp.author, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; tempVal = toolBox.cleanText( tempVal ) ; if( ObjTemp.info_titles == "true" ){var htmlSubTitle = htmlBox.buildElement( "Author : ", "b", "" );} else { var htmlSubTitle = ""; }; html += htmlBox.buildElement( htmlSubTitle + tempVal, "p", "" ) ; }; if( ObjTemp.release_date != "NULL" ){ var tempVal = toolBox.cleanExpression( ObjTemp.release_date, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; tempVal = toolBox.cleanText( tempVal ) ; if( ObjTemp.info_titles == "true" ){var htmlSubTitle = htmlBox.buildElement( "Release Date : ", "b", "" );} else { var htmlSubTitle = ""; }; html += htmlBox.buildElement( htmlSubTitle + tempVal, "p", "") ; }; return html ; }; 
	this.contentClosingFill = function( ObjTemp ){ 
	var html = ""; if( ObjTemp.closing != "NULL" ){ var tempVal = toolBox.cleanExpression( ObjTemp.closing, fixerBox.recheckLiteralString , fixerBox.recleanLiteralString ) ; tempVal = toolBox.cleanText( tempVal ) ; html += htmlBox.buildElement( tempVal, "p", "" ) ; }; if( ObjTemp.closing_link != "NULL" ){ ObjTemp.closing_link = ObjTemp.closing_link.replace(/\\/g,""); Temphtml = htmlBox.buildAnchor( ObjTemp.closing_link, "Redeem Reward", "target='_blank' class='survey-coupon survey_button'" ); html += htmlBox.buildElement( Temphtml, "p", "" ); }; if( ObjTemp.form_type == "Quiz" ){ Temphtml = htmlBox.buildReturn( "Show Results", "results"); html += htmlBox.buildElement( Temphtml, "p", "" ); }; Temphtml = htmlBox.buildReturn( "Close This "+ObjTemp.form_type, "info-landing"); html += htmlBox.buildElement( Temphtml, "p", "" ) ; return html ; }; }; 

function _render(){ 
	this.landing = function(){
	var stopIntervalLanding = setInterval(function() { if( typeof archive_1 !='undefined' ){ if(archive_1.infoHTML){ if(archive_1.infoHTML.length>7){ var renderThis = render.renderStyle() ; if( archive_1.takeTest != undefined ){ if( archive_1.takeTest == true ){ var html = htmlBox.buildElement( archive_1.survey_title+" has been taken. Thank You.", "h3", "" ) ; html = htmlBox.buildElement( html, "div", "class='info_box'" ) ; $("#survey-content").prepend(html); };} else{ var renderThis = render.renderSurvey( "archive_1", archive_1) ; }; if( typeof archive_2 !='undefined' ){ if(archive_2.infoHTML){ if(archive_2.infoHTML.length>7){ if( archive_2.takeTest != undefined ){ if( archive_2.takeTest == true ){ var html = htmlBox.buildElement( archive_2.survey_title+" has been taken. Thank You.", "h3", "" ) ; html = htmlBox.buildElement( html, "div", "class='info_box'" ) ; $("#survey-content").prepend(html); }; } else{ renderThis = render.renderSurvey( "archive_2", archive_2) ; }; };};}; if( typeof archive_3 !='undefined' ){ if(archive_3.infoHTML){ if(archive_3.infoHTML.length>7){ if( archive_3.takeTest != undefined ){ if( archive_3.takeTest == true ){ var html = htmlBox.buildElement( archive_3.survey_title+" has been taken. Thank You.", "h3", "" ) ; html = htmlBox.buildElement( html, "div", "class='info_box'" ) ; $("#survey-content").prepend(html); }; } else{ renderThis = render.renderSurvey( "archive_3", archive_3) ; }; };};}; if( typeof archive_4 !='undefined' ){ if(archive_4.infoHTML){ if(archive_4.infoHTML.length>7){ if( archive_4.takeTest != undefined ){ if( archive_4.takeTest == true ){ var html = htmlBox.buildElement( archive_4.survey_title+" has been taken. Thank You.", "h3", "" ) ; html = htmlBox.buildElement( html, "div", "class='info_box'" ) ; $("#survey-content").prepend(html); }; } else{ renderThis = render.renderSurvey( "archive_4", archive_4) ; }; };};}; if( typeof archive_5 !='undefined' ){ if(archive_5.infoHTML){ if(archive_5.infoHTML.length>7){ if( archive_5.takeTest != undefined ){ if( archive_5.takeTest == true ){ var html = htmlBox.buildElement( archive_5.survey_title+" has been taken. Thank You.", "h3", "" ) ; html = htmlBox.buildElement( html, "div", "class='info_box'" ) ; $("#survey-content").prepend(html); }; } else{ renderThis = render.renderSurvey( "archive_5", archive_5); }; };};}; var renderThis = render.renderLogo( "survey-content" ); handlers.zoomText( "zoom_in" ); handlers.zoomText( "zoom_out" ); handlers.cleanInputText( "email_checker" ); handlers.surveyClassAccordion( "accordion_survey", "info_survey" ); if( system_opts.surveyFormat == "in-page" ){ handlers.surveyInpage( "button_info" ); }; if( system_opts.surveyFormat == "pop-up" ){ handlers.surveyPopup( "button_info" ); }; timers.timerPage(); clearInterval(stopIntervalLanding); }; }; }; }, 50); }; 
	this.renderSurvey = function( wrapType, wrapContent){ 
	if(system_opts.surveySetup == "url"){ var tempText =""; var html=""; var tempOption ="" ; var tempActive =" survey_button " ; var tempBalance ="" ; var tempEmail = wrapContent.user_name; if( tempEmail=="required"){ tempOption = " disabled='' "; tempActive = " survey_button_disabled survey_button_"+tempEmail+" " ; tempBalance = " survey_bar_"+tempEmail+" " ; }; html += htmlBox.buildIdElement( "<h3>"+wrapContent.survey_title+"</h3>", "div", wrapType, "" ); var htmlButton = "Take this "+wrapContent.form_type; htmlButton = htmlBox.buildInput( htmlButton, wrapContent.survey_name, "button", "class='button_info user_name-"+ wrapContent.survey_name + tempActive +"'"+tempOption ); htmlButton = htmlBox.buildElement( htmlButton, "div", "class='div_splitter'" ); if(tempEmail == "required" || tempEmail == "optional" ){ var tempType ="text" ; tempText = "Your email is "+ tempEmail +" to take this "+ wrapContent.form_type +". "; tempText = htmlBox.buildElement( tempText, "h6", "class='email_title-"+tempEmail+"'" ) ;}else{ var tempType = "hidden"; tempText = "You will be "+ tempEmail +" during this "+ wrapContent.form_type +". "; tempText = htmlBox.buildElement( tempText, "h6", "class='email_title-optional'" ) ;}; var htmlEmail = tempText; htmlEmail += htmlBox.buildInputId( "", "user_name", "user_name-"+wrapContent.survey_name, tempType, "class='email_checker email_info-"+tempEmail + tempBalance +"' placeholder='email address'" ); if(tempEmail != "anonymous"){ htmlEmail += htmlBox.buildElement( "", "blockquote", "class='user_name_checker red-alert'" ); }; htmlEmail = htmlBox.buildElement( htmlEmail, "div", "class='div_splitter'" ); htmlButton = htmlBox.buildElement( htmlButton+ htmlEmail, "div", "class='splitter'" ); var htmlInfo = htmlBox.buildIdElement( wrapContent.infoHTML , "div", "info_box", "class='splitter'" ); html += htmlBox.buildIdElement( htmlButton + htmlInfo, "div", wrapType, "" ); html = htmlBox.buildIdElement( html, "div", wrapContent.survey_name, "class='info_box'" ); }; if(system_opts.surveySetup == "button"){ var tempText =""; var html=""; var tempOption ="" ; var tempActive ="" ; var tempBalance ="" ; var tempEmail = wrapContent.user_name; if( tempEmail=="required"){ tempOption = " disabled='' "; tempActive = " survey_button_disabled survey_button_"+tempEmail+" " ; tempBalance = " survey_bar_"+tempEmail+" " ; }; var iconHtml= render.renderIconClose(); html += htmlBox.buildIdElement( "<h3>"+wrapContent.survey_title+iconHtml+"</h3>", "div", "button_"+wrapType, "class='accordion_survey'" ); var htmlButton = "Take this "+wrapContent.form_type; htmlButton = htmlBox.buildInput( htmlButton, wrapContent.survey_name, "button", "class='survey_button button_info user_name-"+ wrapContent.survey_name + tempActive +"'"+tempOption ); htmlButton = htmlBox.buildElement( htmlButton, "div", "class='div_splitter'" ); if(tempEmail == "required" || tempEmail == "optional" ){ var tempType ="text" ; tempText = "Your email is "+ tempEmail +" to take this "+ wrapContent.form_type +". "; tempText = htmlBox.buildElement( tempText, "h6", "class='email_title-"+tempEmail+"'" ) ;} else{ var tempType = "hidden"; tempText = "You will be "+ tempEmail +" during this "+ wrapContent.form_type +". "; tempText = htmlBox.buildElement( tempText, "h6", "class='email_title-optional'" ) ;}; var htmlEmail = tempText; htmlEmail += htmlBox.buildInputId( "", "user_name", "user_name-"+wrapContent.survey_name, tempType, "class='email_checker email_info-"+tempEmail + tempBalance +"' placeholder='email address' " ); if(tempEmail != "anonymous"){ htmlEmail += htmlBox.buildElement( "", "blockquote", "class='user_name_checker red-alert'" ); }; htmlEmail = htmlBox.buildElement( htmlEmail, "div", "class='div_splitter'" ); htmlButton = htmlBox.buildElement( htmlButton+ htmlEmail, "div", "class='splitter'" ); var htmlInfo = htmlBox.buildIdElement( wrapContent.infoHTML , "div", "info_box", "class='splitter'" ); html += htmlBox.buildIdElement( htmlButton + htmlInfo , "div", "info_"+wrapType, "class='info_survey'" ); html = htmlBox.buildIdElement( html, "div", wrapContent.survey_name, "class='info_box'" ); }; $("#survey-content").prepend(html); return true; }; 
	this.renderStyle = function(){ 
	var html = htmlBox.buildHeadElement( system_opts.surveyCSS, "style", "text/css", "" ); $("head").append(html); return true; }; 
	this.renderLogo = function( temp ){ 
	$(".countdown").remove(); var htmlZoom = htmlBox.buildZoom( "-", "-", "zoom_out" ) ; htmlZoom += htmlBox.buildElement( "Zoom Text", "b", "" ); htmlZoom += htmlBox.buildZoom( "+", "+", "zoom_in" ) ; htmlZoom = htmlBox.buildElement( htmlZoom, "div", "class='splitter'" ); var htmlLogo = htmlBox.buildImage( "http://"+ localConfig.domain1 + localConfig.filePathAdj + "/Surveyor-Elite/_library/surveyorelite.png", "Home", "class='survey_logo'" ); htmlLogo = htmlBox.buildAnchor( "http://"+ localConfig.domain1, htmlLogo, "target='_blank'" ); htmlLogo = htmlBox.buildElement( htmlLogo, "div", "class='splitter countdown'" ); $("#" + temp ).append(htmlLogo+htmlZoom); return true; }; 
	this.renderGauze = function(){ 
	$(".countdown").remove(); var html = htmlBox.buildIdElement( "", "div", "wrap-pop", "" ); html = htmlBox.buildIdElement( html, "div", "pop_gauze", "" ); $("body").prepend(html); return true; }; 
	this.appendGauze = function( temp ){ 
	$(".info_box").remove(); $("#wrap-pop").prepend(temp); return true; }; 
	this.removeGauze = function(){ 
	$("#pop_gauze").remove(); return true; }; 
	this.renderIconOpen = function(){ 
	var htmlImg = htmlBox.buildImage( "http://"+ localConfig.domain1 + localConfig.filePathAdj + "/Surveyor-Elite/_library/open.png", "Open", "class='open_closed'" ); return htmlImg ; }; 
	this.renderIconClose = function(){ 
	var htmlImg = htmlBox.buildImage( "http://"+ localConfig.domain1 + localConfig.filePathAdj + "/Surveyor-Elite/_library/closed.png", "Close", "class='open_closed'" ); return htmlImg ; }; }; 

function _handlers(){ 
	this.zoomText = function( openClass ){ 
	user.zoomer=1; $( '.'+openClass ).on( 'click', function(){ var valId = $(this).attr('id'); if(valId=="+"){ user.zoomer=user.zoomer + 0.5; if( user.zoomer>=4){user.zoomer=4; }; }; if(valId=="-"){ user.zoomer=user.zoomer - 0.5; if( user.zoomer<=1){user.zoomer=1; }; }; $("#wrap-pop").removeAttr("style").attr("style", "font-size:"+user.zoomer+"em;"); $("#survey-content").removeAttr("style").attr("style", "font-size:"+user.zoomer+"em;"); }).bind( 'select', function(){ var valId = $(this).attr('id'); if(valId=="+"){ user.zoomer=user.zoomer + 0.5; if( user.zoomer>=4){user.zoomer=4; }}; if(valId=="-"){ user.zoomer=user.zoomer - 0.5; if( user.zoomer<=1){user.zoomer=1; }}; $("#wrap-pop").removeAttr("style").attr("style", "font-size:"+user.zoomer+"em;"); $("#survey-content").removeAttr("style").attr("style", "font-size:"+user.zoomer+"em;"); }); }; 
	this.surveyClassAccordion = function( openClass, contentClass){ 
	$( '.'+openClass ).on( 'click', function(){ $( '.'+contentClass ).slideUp('normal'); if( $(this).next().is(':hidden') == true ) { $(this).next().slideDown('normal'); $(".open_closed").replaceWith( render.renderIconClose() ); $(".open_closed", this).replaceWith( render.renderIconOpen() ); }else{ $(".open_closed", this).replaceWith( render.renderIconClose()); }; }); $( '.'+contentClass ).hide(); }; 
	this.surveyIdAccordion = function( openClass, contentClass){ 
	$( '#'+openClass ).on( 'click', function(){ $( '#'+contentClass ).slideUp('normal'); if( $(this).next().is(':hidden') == true ) { $(this).next().slideDown('normal'); $(".open_closed", this).replaceWith( render.renderIconOpen() ); } else{ $(".open_closed", this).replaceWith( render.renderIconClose() ); }; }); $( '#'+contentClass ).hide(); }; 
	this.surveyPopup = function( openClass ){ 
	$( '.'+openClass ).on( 'click', function(){ user.correctNum = 0; user.incorrectNum = 0; user.correct = ""; user.incorrect = ""; var temp = connect.preloadConfig(); $(".email_checker").trigger('keyUp'); var contentClass = $(this).attr("name"); var renderThis = render.renderGauze(); renderThis = render.renderLogo( "wrap-pop" ) ; handlers.zoomText( "zoom_in" ); handlers.zoomText( "zoom_out" ); if( user.name_save==false && user.user_name!="user_name"){ user.name_save=true ; connect.testTaker( temp, "user_name", "NULL" , localConfig.domain1 , localConfig.filePathAdj,"NULL" , user.user_name , "NULL", user.id ); $("#user_name-"+contentClass).attr("style", htmlBox.survey_valid_style); }; if(user.answer_1){ var i=1; while(user["answer_"+i]){ user["answer_"+i]=undefined; i++ ; }; }; localConfig.compressed = undefined; $(".info_box").remove(); var contentClass = $(this).attr("name"); user.takeTest = contentClass ; takeTest = toolBox.checkTimer(contentClass); var tempTimer = toolBox.validateObject( ":", takeTest.timer ); if( tempTimer == true ){ timers.countDown( takeTest.timer ); }; var html = htmlBox.buildIdElement( "<b>Retrieveing,</b> <i>Please Wait</i>" , "div", contentClass, "class='info_box'" ); html += htmlBox.buildIdElement( "", "div", "survey-setup", "" ); renderThis = render.appendGauze( html ); $('#survey-setup').on('click', function() { var tempContent = $(this).text(); localConfig.compressed = $.trim(tempContent); }); controller.takeSurvey(); connect.loadTaker( temp, "test_get", contentClass , localConfig.domain1 , localConfig.filePathAdj, "SVY|:|"+contentClass+"|_:_|TM|:|"+user.page_time+"|:=:|", user.id ); }); }; 
	this.surveyClose = function( openClass ){ 
	$( '#'+openClass ).on( 'click', function(){ $("#survey-content").empty(); render.landing(); var renderThis = render.removeGauze(); }); }; 
	this.surveyInpage = function( openClass ){ 
	$( '.'+openClass ).on( 'click', function(){ user.correctNum = 0; user.incorrectNum = 0; user.correct = ""; user.incorrect = ""; var temp = connect.preloadConfig(); $(".email_checker").trigger('keyUp'); var contentClass = $(this).attr("name"); if( user.name_save==false && user.user_name!="user_name"){ user.name_save=true; connect.testTaker( temp, "user_name", "NULL" , localConfig.domain1 , localConfig.filePathAdj,"NULL" , user.user_name , "NULL", user.id ); $("#user_name-"+contentClass).attr("style", htmlBox.survey_valid_style); }; if(user.answer_1){ var i=1; while(user["answer_"+i]){ user["answer_"+i]=undefined; i++ ; }; }; localConfig.compressed = undefined; $(".info_box").remove(); user.takeTest = contentClass ; var html = htmlBox.buildIdElement( "<b style='color:orange;'>Retrieveing,</b> <i style='color:yellow;'>Please Wait</i>" , "div", contentClass, "class='info_box'" ); html += htmlBox.buildIdElement( "", "div", "survey-setup", "" ); $('#survey-content').prepend( html ); $('#survey-setup').on('click', function() { var tempContent = $(this).text(); localConfig.compressed = $.trim(tempContent); }); controller.takeSurvey(); connect.loadTaker( temp, "test_get", contentClass , localConfig.domain1 , localConfig.filePathAdj, "SVY|:|"+contentClass+"|_:_|TM|:|"+user.page_time+"|:=:|" , user.id ); takeTest = toolBox.checkTimer(contentClass); var tempTimer = toolBox.validateObject( ":", takeTest.timer ); if( tempTimer == true ){ timers.countDown( takeTest.timer ); }; }); }; 
	this.selectChoice = function( openClass, buttonClass ){ 
	$( '.'+openClass ).on( 'click', function(){ var idAnswer = $(this).attr('id'); var valAnswer = $(this).val(); var idQuestion = $("input[type='submit']").attr('id'); if(user.clickTrack == "" ){ user.clickTrack += "QU|:|"+ idQuestion +"|__|"; }; $("."+openClass).attr('checked', false); $("."+buttonClass).attr("style", "visibility:visible;"); $("#"+idAnswer).attr('checked', true); user.clickTrack +="SLT-"+idAnswer+"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time +"|:-:|"; user[ "answer_" + idQuestion ] = valAnswer ; document.getElementById( idAnswer ).checked=true; }).bind( 'select', function(){ var idAnswer = $(this).attr('id'); var valAnswer = $(this).val(); var idQuestion = $("input[type='submit']").attr('id'); if(user.clickTrack == "" ){ user.clickTrack += "QU|:|"+ idQuestion +"|__|"; }; $("."+openClass).attr('checked', false); $("."+buttonClass).attr("style", "visibility:visible;"); $("#"+idAnswer).attr('checked', true); user.clickTrack +="SLT-"+idAnswer+"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time +"|:-:|"; user[ "answer_" + idQuestion ] = valAnswer ; document.getElementById( idAnswer ).checked=true; }); }; 
	this.multipleChoice = function( openClass, buttonClass ){ 
	$( '.'+openClass ).on( 'click', function(){ var idAnswer = $(this).attr('id'); var valAnswer = $(this).val(); user[ "answer_" + idQuestion ] = "NULL"; if(user.clickTrack == "" ){ var idQuestion = $("input[type='submit']").attr('id'); user.clickTrack += "QU|:|"+ idQuestion +"|__|"; }; if( $("#"+idAnswer).is(":checked") ){ $("#"+idAnswer).attr('checked', true); document.getElementById( idAnswer ).checked=true; user.clickTrack +="SLT-"+idAnswer+"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time +"|:-:|"; } else{ $("#"+idAnswer).attr('checked', false); document.getElementById( idAnswer ).checked=false; user.clickTrack +="ULT-"+idAnswer+"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time +"|:-:|"; }; $("."+buttonClass).attr("style", "visibility:visible;"); }).bind( 'select', function(){ var idAnswer = $(this).attr('id'); var valAnswer = $(this).val(); user[ "answer_" + idQuestion ] = "NULL"; if(user.clickTrack == "" ){ var idQuestion = $("input[type='submit']").attr('id'); user.clickTrack += "QU|:|"+ idQuestion +"|__|"; }; if( $("#"+idAnswer).is(":checked") ){ $("#"+idAnswer).attr('checked', true); document.getElementById( idAnswer ).checked=true; user.clickTrack +="SLT-"+idAnswer+"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time +"|:-:|"; } else{ $("#"+idAnswer).attr('checked', false); document.getElementById( idAnswer ).checked=false; user.clickTrack +="ULT-"+idAnswer+"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time +"|:-:|"; }; $("."+buttonClass).attr("style", "visibility:visible;"); }); }; 
	this.surveyResults = function( openClass ){ 
	$( '#'+openClass ).on( 'click', function(){ $("#"+openClass ).remove(); if( system_opts.surveyFormat == "in-page" ){ $("#survey-content").prepend( user.resultsHTML ); user.resultsHTML=""; }; if( system_opts.surveyFormat == "pop-up" ){ $("#wrap-pop").prepend( user.resultsHTML ); user.resultsHTML=""; }; }); }; 
	this.pageTurn = function( openClass ){ 
	$( '.'+openClass ).on( 'click', function(){ var valAnswer = ""; iClr=0; $('input[type=checkbox]').each(function () { if( $(this).is(":checked") ){ valAnswer += $(this).val() +"|=|" ; user[ "answer_" + user.currentQuestion ] = valAnswer ; }; }); user.clickTrack +="SBT-"+ user.currentQuestion +"|:|"+ user[ "answer_" + user.currentQuestion ] +"|_:_|TM|:|"+ user.page_time; user.currentQuestion++; var tempLoading = "Next Question"; var temp = htmlBox.buildElement( tempLoading, "i", ""); temp = htmlBox.buildIdElement( temp, "b", "survey-sorting", " " ); $('.info_box').empty().append(temp); if( takeTest["form_"+ user.currentQuestion ] != undefined && takeTest["form_"+ user.currentQuestion ] != "form_"+ user.currentQuestion ){ var subNum = ( user.currentQuestion - 1) ; var submission = user["answer_"+ subNum ] ; var temp = connect.preloadConfig(); connect.testTaker( temp, "page_turn", user.takeTest , localConfig.domain1 , localConfig.filePathAdj, user.clickTrack , submission, subNum, user.id ); var stopIntervalResults = setInterval(function(){ iClr++; if( iClr==1){ cLr ="purple" }else if(iClr ==2){ cLr ="red" }else if( iClr==3){ cLr ="orange" }else if( iClr==4){ cLr ="yellow" }else{ iClr = 0; cLr ="green" }; $(".info_box").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); if( user["ecpt_"+subNum] ){ $('.info_box').empty().append( takeTest['form_'+ user.currentQuestion ] ); $("#survey_page_count").remove(); var tempCountTitle = htmlBox.buildElement( user.currentQuestion +" of "+ currentTest.totalQuestions, "span", "id='survey_page_count'" ); $(".countdown").append(tempCountTitle); if( takeTest['type_'+ user.currentQuestion ] == "radio" ){ handlers.selectChoice( "choice", "survey_button" ) ; }; if( takeTest['type_'+ user.currentQuestion ] == "checkbox" ){ handlers.multipleChoice( "choice", "survey_button" ) ; }; handlers.pageTurn( "survey_submit" ); user.clickTrack =''; clearInterval(stopIntervalResults) }; },30 ); } else{ var gClr=0; var tempLoading = "Validating Submission"; var temp = htmlBox.buildElement( tempLoading, "i", ""); temp = htmlBox.buildIdElement( temp, "b", "survey-sorting", " " ); $('.info_box').empty().append(temp); user.currentQuestion--; if( $("#survey-timer").is("div") ){ $("#survey-timer").remove(); clearInterval(stopIntervalcountDown);}; user.clickTrack += "|:=:|FIN|:|"+user.takeTest+"|-_-|" ; var subNum = ( user.currentQuestion) ; var submission = user["answer_"+ subNum ] ; var temp = connect.preloadConfig(); connect.testTaker( temp, "page_turn", user.takeTest , localConfig.domain1 , localConfig.filePathAdj, user.clickTrack , submission, subNum, user.id ); user.clickTrack =''; $("#survey_page_count").remove(); var stopIntervalSubmit = setInterval(function() { iClr++; gClr++; if( iClr==1){ cLr ="purple" }else if(iClr ==2){ cLr ="red" }else if( iClr==3){ cLr ="orange" }else if( iClr==4){ cLr ="yellow" }else{ iClr = 0; cLr ="green" }; $(".info_box").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); if( user.currentQuestion == user.incorrectNum + user.correctNum ){ connect.testTaker( temp, "test_results", user.takeTest , localConfig.domain1 , localConfig.filePathAdj, user.incorrect , user.correct, user.score, user.id ); view.newResultsPage( takeTest , user.currentQuestion ); launch.buildClosing( ) ; $('.info_box').empty().append(takeTest.closing); handlers.surveyClose("info-landing"); handlers.surveyResults("results"); clearInterval(stopIntervalSubmit); }else if( gClr==100){ $(".info_box").empty().append("<b >Problem Generating Results for View. If results off, contact adming for correct results.</b>"); connect.testTaker( temp, "test_results", user.takeTest , localConfig.domain1 , localConfig.filePathAdj, user.incorrect , user.correct, user.score, user.id ); view.newResultsPage( takeTest , user.currentQuestion ); launch.buildClosing( ); $('.info_box').append(takeTest.closing); handlers.surveyClose("info-landing"); handlers.surveyResults("results"); clearInterval(stopIntervalSubmit); } else{ $(".info_box").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>");}; }, 100); }; }); }; 
	this.cleanInputText = function( openClass ){ 
	$( '.'+openClass ).on( 'keyup', function(){ var valId = $(this).attr('id'); var setObj = ""; var valAnswer = $(this).val(); if( user.name_save==false ){ var checkClass = $("#"+valId).attr("class"); var tempClass = toolBox.parseCustomSplit( checkClass, fixerBox.cleanSpace ); $.each(tempClass, function(key,val){ var tempCheck = toolBox.validateObject( "email_info-", val ); if(tempCheck==true){ val = val.replace("email_info-", fixerBox.recleanLiteralString); checkEmail=val; }; }); valAnswer = toolBox.cleanExpression( valAnswer, fixerBox.checkSpace, fixerBox.recleanLiteralString); valAnswer = toolBox.cleanExpression( valAnswer, fixerBox.checkEmailString , fixerBox.recleanLiteralString ); $( '.'+openClass ).val( valAnswer); user.name_check = toolBox.checkExpression( valAnswer, fixerBox.checkEmail ); if(user.name_check == false){ if(checkEmail=="optional"){ $(".survey_button_required").removeClass("survey_button").addClass("survey_button_disabled").attr("style", htmlBox.survey_invalid_style).prop('disabled', true); }; if(checkEmail=="required" || checkEmail=="valid"){ $(".survey_button_required").removeClass("survey_button").addClass("survey_button_disabled").attr("style", htmlBox.survey_invalid_style).prop('disabled', true); $(".survey_bar_required").attr("style", htmlBox.survey_invalid_style).removeClass("email_info-valid").addClass("email_info-required") ; }; $( ".user_name_checker" ).empty().append("Input not yet valid. Continue to type or edit.").removeClass("green-alert").addClass("red-alert"); }; if(user.name_check == true ){ if(checkEmail=="optional"){ $(".survey_button_required").removeClass("survey_button_disabled").addClass("survey_button").attr("style", htmlBox.survey_valid_style).prop('disabled', false) }; if(checkEmail=="required" || checkEmail=="valid"){ $(".survey_button_required").removeClass("survey_button_disabled").addClass("survey_button").attr("style", htmlBox.survey_valid_style).prop('disabled', false); $(".survey_bar_required").attr("style", htmlBox.survey_valid_style).removeClass("email_info-required").addClass("email_info-valid"); }; user.user_name = valAnswer; $( ".user_name_checker" ).empty().append("Input valid.").removeClass("red-alert").addClass("green-alert"); }; } else{ $(".email_checker").val( user.user_name ).attr("readOnly", "readOnly").prop('disabled', true); $(".survey_button_required").attr("style", htmlBox.survey_valid_style).prop('disabled', false); $(".survey_bar_required").attr("style", htmlBox.survey_valid_style).removeClass("email_info-required").addClass("email_info-valid"); }; }).bind( 'click', function(){ var valId = $(this).attr('id'); var setObj = ""; var valAnswer = $(this).val(); if( user.name_save==false ){ var checkClass = $("#"+valId).attr("class"); var tempClass = toolBox.parseCustomSplit( checkClass, fixerBox.cleanSpace ); $.each(tempClass, function(key,val){ var tempCheck = toolBox.validateObject( "email_info-", val ); if(tempCheck==true){ val = val.replace("email_info-", fixerBox.recleanLiteralString); checkEmail=val; }; }); valAnswer = toolBox.cleanExpression( valAnswer, fixerBox.checkSpace, fixerBox.recleanLiteralString); valAnswer = toolBox.cleanExpression( valAnswer, fixerBox.checkEmailString , fixerBox.recleanLiteralString ); $( '.'+openClass ).val( valAnswer) ; user.name_check = toolBox.checkExpression( valAnswer, fixerBox.checkEmail ); if(user.name_check == false){ if(checkEmail=="optional"){ $(".survey_button_required").removeClass("survey_button").addClass("survey_button_disabled").attr("style", htmlBox.survey_invalid_style).prop('disabled', true); }; if(checkEmail=="required" || checkEmail=="valid"){ $(".survey_button_required").removeClass("survey_button").addClass("survey_button_disabled").attr("style", htmlBox.survey_invalid_style).prop('disabled', true); $(".survey_bar_required").attr("style", htmlBox.survey_invalid_style).removeClass("email_info-valid").addClass("email_info-required"); }; $( ".user_name_checker" ).empty().append("Input not yet valid. Continue to type or edit.").removeClass("green-alert").addClass("red-alert"); }; if(user.name_check == true ){ if(checkEmail=="optional"){ $(".survey_button_required").removeClass("survey_button_disabled").addClass("survey_button").attr("style", htmlBox.survey_valid_style).prop('disabled', false) }; if(checkEmail=="required" || checkEmail=="valid"){ $(".survey_button_required").removeClass("survey_button_disabled").addClass("survey_button").attr("style", htmlBox.survey_valid_style).prop('disabled', false); $(".survey_bar_required").attr("style", htmlBox.survey_valid_style).removeClass("email_info-required").addClass("email_info-valid"); }; user.user_name = valAnswer; $( ".user_name_checker" ).empty().append("Input valid.").removeClass("red-alert").addClass("green-alert"); }; } else{ $(".email_checker").val( user.user_name ).attr("readOnly", "readOnly").prop('disabled', true); $(".survey_button_required").attr("style", htmlBox.survey_valid_style).prop('disabled', false); $(".survey_bar_required").attr("style", htmlBox.survey_valid_style).removeClass("email_info-required").addClass("email_info-valid"); }; }).bind( 'mouseover', function(){ if( user.name_save==true ){ $(".email_checker").val( user.user_name ).attr("readOnly", "readOnly").prop('disabled', true); $(".survey_button_required").removeClass("survey_button_disabled").addClass("survey_button").attr("style", htmlBox.survey_valid_style).prop('disabled', false); $(".survey_bar_required").attr("style", htmlBox.survey_valid_style).removeClass("email_info-required").addClass("email_info-valid"); }; }).bind( 'select', function(){ if( user.name_save==true ){ $(".email_checker").val( user.user_name ).attr("readOnly", "readOnly").prop('disabled', true); $(".survey_button_required").removeClass("survey_button_disabled").addClass("survey_button").attr("style", htmlBox.survey_valid_style).prop('disabled', false); $(".survey_bar_required").attr("style", htmlBox.survey_valid_style).removeClass("email_info-required").addClass("email_info-valid"); }; }); }; }; 

function _timers(){ 
	this.timerPage = function(){ 
	var subSec = 0 ; var Sec = 0 ; var minSec = 0 ; var stopIntervalPageTime = setInterval(function() { subSec++; if( subSec == 10 ){ subSec = 0 ; Sec++; if( Sec < 10 ){ Sec = '0'+ Sec ; }; if( Sec == 60 ){ Sec = 0 ; minSec++; }; }; var pageTime = minSec + ":" + Sec + "." + subSec ; user.page_time = pageTime; },100); }; 
	this.countDown = function( startCount ){ 
	var temp = htmlBox.buildIdElement( "", "div", "survey-timer", "class='survey_timer'" ); $(".countdown").prepend(temp); user.count_down = 0 ; var tempCount = toolBox.parseCustomSplit( startCount, ":" ); var MinSec = $.trim(tempCount[0]); var Sec = $.trim(tempCount[1]); stopIntervalcountDown = setInterval(function() { Sec--; if(Sec <=59 && MinSec==0){ $("#survey-timer").removeClass("survey_timer").addClass("survey_timer_alert"); }; if( Sec == 0 && MinSec == 0 ){ user.count_down = "timeout"; timers.forceTurn(); $("#survey-timer").remove(); clearInterval(stopIntervalcountDown); } else{ if( Sec < 0 ){ MinSec--; Sec = 59;} else if( Sec < 10 ){ Sec = '0'+ Sec ; } else{}; user.count_down = MinSec +":"+ Sec;}; $("#survey-timer").empty().append(user.count_down); },1000); }; 
	this.forceTurn = function(){ 
	var gClr=0; var iClr=0; var valAnswer = "timeout"; var temp = htmlBox.buildElement( valAnswer, "i", ""); temp = htmlBox.buildIdElement( temp, "b", "survey-sorting", " " ); $('.info_box').empty().append(temp); user.clickTrack +="SBT-"+ valAnswer +"|:|"+ valAnswer +"|_:_|TM|:|"+ user.page_time; user.clickTrack += "|:=:|FIN|:|"+user.takeTest+"|-_-|" ; var subNum = ( takeTest.allAnswers); var submission = valAnswer ; var temp = connect.preloadConfig(); if(subNum===1){ subNum++; }; connect.testTaker( temp, "page_turn", user.takeTest , localConfig.domain1 , localConfig.filePathAdj, user.clickTrack , submission, subNum, user.id ); user.clickTrack =''; $("#survey_page_count").remove(); var stopIntervalSubmit = setInterval(function() { iClr++; gClr++; if( iClr==1){ cLr ="purple" }else if(iClr ==2){ cLr ="red" }else if( iClr==3){ cLr ="orange" }else if( iClr==4){ cLr ="yellow" }else{ iClr = 0; cLr ="green" }; $(".info_box").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>"); if(takeTest.totalAnswers >= user.incorrectNum + user.correctNum ){ connect.testTaker( temp, "test_results", user.takeTest , localConfig.domain1 , localConfig.filePathAdj, user.incorrect , user.correct, user.score, user.id ); view.newResultsPage( takeTest ,takeTest.totalAnswers ); launch.buildClosing( ) ; $('.info_box').empty().append(takeTest.closing); handlers.surveyClose("info-landing"); handlers.surveyResults("results"); clearInterval(stopIntervalSubmit); } else{ $(".info_box").append("<b style='color:"+cLr+";'> "+fixerBox.spchar_19 +"."+fixerBox.spchar_55 +"</b>");}; }, 100); }; };
	});